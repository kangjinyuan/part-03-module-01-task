### 一. 简答题

#### 1. 当我们点击按钮的时候动态给 data 增加的成员是否是响应式数据，如果不是的话，如何把新增成员设置成响应式数据，它的内部原理是什么。

```
let vm = new Vue({
 el: '#el'
 data: {
  o: 'object',
  dog: {}
 },
 method: {
  clickHandler () {
   // 该 name 属性是否是响应式的
   this.dog.name = 'Trump'
  }
 }
})
```

解答：

- 当我们点击按钮的时候动态给 data 增加的成员是否是响应式数据
  - 不是响应式
- 把新增成员设置成响应式数据
  - 调用 Vue 提供的 $set()
- 内部原理
  - 调用 defineReactve() 将新增的数据变为响应式数据
  - 调用 Dep 内部的 notify() 通知所有的 Watcher 渲染视图

#### 2. 请简述 Diff 算法的执行过程。

- 循环遍历新老节点数组，判断新老节点
  - 旧节点数组中第一个节点和新节点数组中第一个节如果相同
    - 调用 patchVnode() 对比两个节点不同，渲染视图
    - 旧节点开始索引++
    - 新节点开始索引++
  - 旧节点数组中最后一个节点和新节点数组中最后一个节点如果相同
    - 调用 patchVnode() 对比两个节点不同，渲染视图
    - 旧节点结束索引--
    - 新节点结束索引--
  - 旧节点数组中第一个节点和新节点数组中最后一个节点如果相同
    - 调用 patchVnode() 对比两个节点不同，渲染视图
    - 旧节点开始索引++
    - 新节点结束索引--
  - 旧节点数组中最后一个节点和新节点数组中第一个节点如果相同
    - 调用 patchVnode() 对比两个节点不同，渲染视图
    - 旧节点结束索引--
    - 新节点开始索引++
  - 开始节点和结束节点不相同
    - 如果是新vnode
      - 创建 elm，并插入 Dom 树中
      - 新开始节点索引++
    - 如果是老vnode
      - 如果老vnode和新vnode不同
        - 创建 elm，并插入都 Dom 树中
      - 如果老vnode和新vnode相同
        - 调用 patchVnode() 对比两个节点不同，渲染视图
      - 新节点开始索引++
- 循环结束之后
  - 如果老节点先循环完成，说明新节点有剩余，将剩余节点插入到右侧
  - 如果新节点先循环完成，说明老节点有剩余，批量删除剩余节点

### 二. 编程题

#### 1. 模拟 VueRouter 的 hash 模式的实现，实现思路和 History 模式类似，把 URL 中的 # 后面的内容作为路由的地址，可以通过 hashchange 事件监听路由地址的变化。

项目为：my-router

#### 2. 在模拟 Vue.js 响应式源码的基础上实现 v-html 指令，以及 v-on 指令。

项目为：my-vue-reactivity

#### 3. 参考 Snabbdom 提供的电影列表的示例，利用Snabbdom 实现类似的效果（图省略）。

项目：my-snabbdom
